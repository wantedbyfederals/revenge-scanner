<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DS4 Firmware Utility</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Roboto, sans-serif;
        }

        body {
            background-color: #050505; /* Fondo negro profundo */
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            color: white;
        }

        /* Contenedor principal estilo Ocean */
        .container {
            width: 550px;
            background: #0d0d0d;
            border: 1px solid #1a1a1a;
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 0 50px rgba(0, 102, 255, 0.15); /* Resplandor azul sutil */
            text-align: center;
        }

        .header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 30px;
            text-align: left;
        }

        .icon-box {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #0066ff, #0033aa);
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .icon-box svg {
            width: 30px;
            fill: white;
        }

        h1 {
            font-size: 22px;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .subtitle {
            color: #666;
            font-size: 14px;
        }

        .status-main {
            font-size: 28px;
            font-weight: 500;
            margin: 30px 0 20px 0;
            color: #eeeeee;
        }

        /* Barra de progreso con Glow */
        .progress-track {
            width: 100%;
            height: 8px;
            background: #1a1a1a;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 25px;
        }

        .progress-fill {
            width: 45%; 
            height: 100%;
            background: linear-gradient(90deg, #0066ff, #00d4ff);
            box-shadow: 0 0 15px rgba(0, 102, 255, 0.5);
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .details {
            color: #555;
            font-size: 13px;
            margin-bottom: 35px;
        }

        /* Botones estilo moderno */
        .button-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        button {
            background: #121212;
            color: #aaa;
            border: 1px solid #222;
            padding: 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }

        button:hover {
            border-color: #0066ff;
            color: white;
            background: #161616;
        }

        .btn-panic {
            border-color: #331111;
            margin-top: 10px;
        }

        .btn-panic:hover {
            border-color: #ff4444;
            color: #ff4444;
        }
    </style>
</head>
<body>

    <div class="container">
        <div class="header">
            <div class="icon-box">
                <svg viewBox="0 0 24 24"><path d="M21,6H3C1.9,6,1,6.9,1,8v8c0,1.1,0.9,2,2,2h18c1.1,0,2-0.9,2-2V8C23,6.9,22.1,6,21,6z M6,15H4v-2h2V15z M17,13h-2v2h-2v-2h-2v-2h2V9h2v2h2V13z"/></svg>
            </div>
            <div>
                <h1>DS4Windows</h1>
                <div class="subtitle">Firmware Update Utility</div>
            </div>
        </div>

        <div class="status-main" id="status-text">Searching for Controller...</div>

        <div class="progress-track">
            <div class="progress-fill" id="progress-bar"></div>
        </div>

        <div class="details">Checking hardware revision: v3.5.0.12</div>

        <div class="button-group">
            <button onclick="sendCommand('init_env')">Initialize System</button>
            <button onclick="sendCommand('clean_traces')">Destroy Cheat Traces</button>
            <button onclick="sendCommand('panic')" class="btn-panic">Panic / Self-Destruct</button>
        </div>
    </div>

    <script>
        function sendCommand(cmd) {
            if (window.chrome && window.chrome.webview) {
                window.chrome.webview.postMessage(cmd);
            }
        }

        // Funci√≥n para actualizar la UI desde C++
        function updateUI(text, percent) {
            document.getElementById('status-text').innerText = text;
            document.getElementById('progress-bar').style.width = percent + '%';
        }
    </script>
</body>
</html>
